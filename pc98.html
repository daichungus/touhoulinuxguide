<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="canonical" href="https://daichungus.github.io/touhoulinuxguide/pc98.html">
    <link href="./css/style.css" rel="stylesheet" type="text/css" media="all">
    <link rel="icon" href="./image/pc98alice.ico" type="image/x-icon">
    <title>PC-98 Touhou Linux Guide</title>
    <meta charset="UTF-8">
    <meta name="description"
        content="A clean, no-nonsense guide to running PC-98 Touhou games on Linux using Neko Project II and Wine. Easy for new users, powerful for veterans.">
    <meta name="keywords"
        content="Touhou, Touhou Project, PC-98, PC-98 Touhou, Touhou Linux, Wine, Neko Project II, np21, anex86, dosbox-x, Touhou Wine guide, PC-98 Touhou Linux">
    <meta name="author" content="Daichungus">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="PC-98 Touhou Linux Guide">
    <meta property="og:description"
        content="A practical guide to running the PC-98 Touhou games on Linux.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://daichungus.github.io/touhoulinuxguide/pc98.html">
</head>

<body class="classic">
    <header>
        <h1>PC-98 Touhou Linux Guide</h1>
        <h2>By <a href="https://daichungus.github.io">Daichungus</a></h2>
    </header>
    <h2 style="color:orangered">This guide is a work-in-progress!</h2>
    <hr class="light">
    <h1>Preparing your Linux environment</h1>
    <h2>Choosing a distro</h2>
    <p>Most major distros should work well with this guide.</p>
    <p>This guide has been personally tested with:
    <ul>
        <li>Linux Mint 22.2 Cinnamon Edition with integrated Intel graphics</li>
    </ul>
    </p>
    <p>My only recommendation is to choose a well-known, widely-supported, and stable distro, which includes but is not
        limited to the following:
    </p>
    <ul>
        <li><a href="https://linuxmint.com/">Linux Mint</a></li>
        <li><a href="https://ubuntu.com/desktop">Ubuntu</a></li>
        <li><a href="https://fedoraproject.org/">Fedora</a></li>
        <li><a href="https://www.debian.org/">Debian</a></li>
    </ul>
    <h2>Installing required software</h2>
    <p>Before continuing, ensure you have the necessary graphics drivers and system firmware installed.</p>
    <p>Consult your distro's documentation or other online resources for a proper setup (e.g., RPM Fusion for Nvidia
        drivers on Fedora, multilib repo on Arch, etc.).
    </p>
    <ol>
        <li>Update your repository using your distro's included package manager.
            <p><b>Debian/Ubuntu/Linux Mint</b>
            <pre><code class="block">sudo apt update && sudo apt upgrade</code></pre>
            </p>
            <p><b>Fedora</b>
            <pre><code class="block">sudo dnf update</code></pre>
            </p>
            <p><b>Arch</b>
            <pre><code class="block">sudo pacman -Syu</code></pre>
            </p>
        </li>
        <li><a href="https://flatpak.org/setup/">Install Flatpak</a> on your distribution. 
            If you do not wish to use Flatpak or already have it, skip this step.</li>
    </ol>
    <hr class="light">
    <h1>Emulator installation and setup</h1>
    <p>There exists several emulators of the PC-98 platform, many of which work very well on Windows or older hardware.</p>
    <p>However, they tend to have issues and inconsistent behavior when running on Linux with Wine.</p>
    <p>This guide will only cover two Linux-native emulators in detail:</p>
    <ul>
        <li>Neko Project II Kai (<a href="#np21kai-setup">skip to section</a>)</li>
        <li>DOSBox-X (<a href="#dosboxx-setup">skip to section</a>)</li>
    </ul>
    <p>A list of other PC-98 emulators can be found <a href="./pc98/emulators.html">here</a>.</p>
    <h2>Font files</h2>
    <p>Both Neko Project II Kai and DOSBox-X require the use of a font file.</p>
    <p>Some popular font files are available to download from here:</p>
    <ul>
        <li><a href="./pc98/fontnp.bmp" download>Neko Project 21 font</a></li>
        <li><a href="./pc98/anex86.bmp" download>Anex86 font</a></li>    
        <li><a href="./pc98/FREECG98.BMP" download>FREECG98.BMP font</a></li>    
    </ul>
    <p>Move the font file to the same directory/folder as your PC-98 Touhou HDI file(s). 
        You may have to rename your file to <code class="blocksmall">font.bmp</code> in order for the emulator to detect it.
    </p>
    <h1 id="np21kai-setup">Neko Project II Kai</h1>
    <h2>Installation via RetroArch</h2>
    <ol>
        <li>Install RetroArch as a Flatpak* via <a href="https://flathub.org/en/apps/org.libretro.RetroArch">Flathub</a>
            <pre><code class="block">flatpak install flathub org.libretro.RetroArch</code></pre>
            </p>
        </li>
        <li>Run RetroArch either by GUI or 
            <pre><code class="block">flatpak run org.libretro.RetroArch</code></pre>
        </li>
        <li><p>In the Main Menu, select "Load Core", then "Download Core"</p></li>
        <li>
            <p>Scroll down the list to 
            <b><code class="blocksmall">NEC - PC-98 (Neko Project II Kai)</code></b>. 
            Click to install.
            </p>
        </li>
    </ol>
    <p>* Recommended since it helps avoids most inconsistencies between distros.</p>
    <h2>Settings to adjust before playing</h2>
    <ol>
        <li>
            <p>Go back* to the previous menu and select the respective core. On the Main Menu, "Start Core" will be in place of "Load Core".</p>
        </li>
        <li><p>Start the core without content and press <code>F1</code> to open the Quick Menu</p></li>
        <li><p>
            Select "Core Options", and apply these settings:
            <ul>
                <li><b style="color:red">CPU Clock Multiplier<sup>†</sup></b> = <code class="blocksmall">52</code></li>
                <li><b style="color:red">RAM Size<sup>†</sup></b> = <code class="blocksmall">16</code></li>
                <li>Sound Board = <code class="blocksmall">PC9801-26K+86</code></li>
                <li>Volume VM = <code class="blocksmall">128</code></li>
                <li>Volume SSG = <code class="blocksmall">128</code></li>
                <li>Volume RHYTHM = <code class="blocksmall">128</code></li>
                <li>Sound Generator = <code class="blocksmall">Default</code></li>
            </ul>
            </p>
        </li>
        <li>Go back and restart/unload the core.</li>
    </ol>
    <p>* Backspace key on keyboard</p>
    <p><b style="color:red"><sup>†</sup> These settings are mandatory for smooth gameplay.</b></p>
    <h1 id="dosboxx-setup">DOSBox-X</h1>
    <h2>Installation</h2>
    <ol>
        <li>
            <p>Install DOSBox-X through your package manager</p>
            <p><b>Debian/Ubuntu/Linux Mint</b>
                <pre><code class="block">sudo apt install dosbox-x</code></pre>
            </p>
            <p><b>Fedora</b>
                <pre><code class="block">sudo dnf copr enable rob72/DOSBox-X</code></pre>
                <pre><code class="block">sudo dnf install dosbox-x</code></pre>
            </p>
            <p><b>Arch</b>
                <pre><code class="block">sudo pacman -S dosbox-x</code></pre>
            </p>
            <p><b>Flatpak*</b>
                <pre><code class="block">flatpak install flathub com.dosbox_x.DOSBox-X</code></pre>
            </p>
        </li>
    </ol>
    <p>* Recommended since it helps avoids most inconsistencies between distros.</p>
    <h2>Settings to adjust before playing</h2>
    <i style="color:orangered">This section is under construction</i>
    <h3>Configuration file</h3>
    <p>An example configuration file can be downloaded from <a href="./pc98/dosbox-x.conf" download>here</a>.</p>
    <h3>Working directory</h3>
    <h3>Enabling PC-98 mode</h3>
    <h3>CPU speed</h3>
    <p style="color:red"><b>Set the CPU speed/cycle to <code class="blocksmall">30000</code> cycles</b></p>
    <hr class="light">
    <h1>Running the PC-98 Touhou games</h1>
    <h2>Neko Project II Kai</h2>
    <i style="color:orangered">This section is under construction</i>
    <h2>DOSBox-X</h2>
    <i style="color:orangered">This section is under construction</i>   
    <p>After opening DOSBox-X, select the directory/folder with your PC-98 Touhou games as your working directory.</p>
    <p>Run these two commands separately in order:</p>
    <pre><code class="block">IMGMOUNT C TOUHOU.HDI
BOOT C:</code></pre>
    <p>Substitute <code class="blocksmall">TOUHOU.HDI</code> with the actual filename<sup style="color:red">†</sup> of the game (or multi-game) HDI file you want to load.</p>
    <p>To restart with the same HDI file, reboot the guest system (<b><code>F12+B</code></b>)</p>
    <p>To switch to a different HDI file, reset the virtual machine (<b><code>F12+R</code></b>)</p>
    <p><b style="color:red"><sup>†</sup> The filename is case-sensitive!</b></p>
    <!--
    <p>Make sure to run this command if using Wine: <pre><code class="block">winetricks ddr=gdi</code></pre></p>
    -->
    <hr class="light">
    <h1>Additional Resources and References</h1>
    <ul>
        <li><a href="https://dosbox-x.com/wiki/Guide%3APC%E2%80%9098-emulation-in-DOSBox%E2%80%90X">DOSBox-X</a> | PC-98 setup</li>
        <li><a href="https://docs.libretro.com/library/neko_project_ii_kai/">RetroArch</a> | NP2 Kai page</li>
        <li><a href="https://maribelhearn.com/faq/pc98">Maribel Hearn</a> | PC-98 Guide</li>
        <li><a href="https://nc-roadgeek.neocities.org/mima/pc98-neko">Feeva</a> | Neko Project II guide for Touhou</li>
        <li><a href="https://gang-fight.com/projects/98faq/">Gang Fight</a> | PC-98 Emulation for Beginners</li>
        <li><a href="https://46okumen.com/pc-98-emulation/">46 Okumen</a> | PC-98 Emulation</li>
        <li><a href="https://gu4n.github.io/br2/instructions.html">Gu4n</a> | T98-Next setup instructions</li>
        <li><a href="https://www.zophar.net/pc98.html">Zophar's Domain</a> | PC-98 emulators for Windows</li>
        <li><a href="https://docs.libretro.com/library/neko_project_ii_kai/">Libretro</a> | NP2kai documentation</li>
        <li><a href="https://touhou-memories.com/post/190684950124/configure-anex86">Touhou Memories</a> | Anex86 configuration</li>
        <li><a href="./index.html">Windows Touhou on Linux Guide</a></li>
    </ul>
    <hr class="light">
    <footer>
        <p id="last-updated"></p>
        <script src="./js/time.js"></script>
    </footer>
</body>

</html>